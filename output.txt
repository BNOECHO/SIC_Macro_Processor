COPY	START	0
		
FIRST	STL	RETADR
.CLOOP	RDBUFF	F1,BUFFER,LENGTH
CLOOP	IF	(12 NE '')
	ENDIF	
	CLEAR	X
	CLEAR	A
	IF	(&EORCK EQ 1)
	LDCH	=X'12'
	RMO	A,S
	ENDIF	
	+LDT	#&MAXLTH
$AALOOP	TD	=X'F1'
	JEQ	$AALOOP
	RD	=X'F1'
	IF	(&EORCK EQ 1)
	COMPR	A,S
	JEQ	$AAEXIT
	ENDIF	
	STCH	BUFFER,X
	TIXR	T
	JLT	$AALOOP
$AAEXIT	STX	&RECLTH
	LDA	LENGTH
	COMP	#0
	JEQ	ENDFIL
	J	CLOOP
ENDFIL	J	@RETADER
EOF	BYTE	C'EOF'
THREE	WORD	3
RETADR	RESW	1
LENGTH	RESW	1
BUFFER	RESB	1024
	END	FIRST
